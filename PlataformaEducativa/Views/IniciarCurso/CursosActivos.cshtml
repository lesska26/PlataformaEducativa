@model List<PlataformaEducativa.Models.ModelsView.IniciarCursoView>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<table class="table table-hover">
    <tr>
        <th>
            Curso
        </th>
        <th>
            Hora
        </th>
        <th>
            Dias
        </th>
        <th>
           Fecha-Inicio
        </th>
        <th>
          Finaliza 
        </th>
        <th>
         Profesor
        </th>
        <th>
            Horario
        </th>
        <th>
            Opciones
        </th>
    </tr>

    @foreach(var i in Model)
    {
        <tr>
            <td>@i.NombreCurso</td>
            <td></td>
            <td>
                @foreach (var f in i.diaSemanas)
                {
                    string.Format($"{@f.Dias}");
                    <p>@f.Dias</p>
                }
            </td>
           <td>
               @i.FechaInicio
           </td>
           <td>
              @i.Finalizo
           </td>
           <td>
               @i.Profesor
           </td>
           <td>
                @string.Format($"{@i.Hora.Horas_Iniciar} a {i.HoraFinal}")
           </td>
           <td>
               
                @{
                    TimeSpan Resta = Convert.ToDateTime(/*"2024-06-25"*/DateTime.Now.ToShortDateString()) - Convert.ToDateTime(i.Finalizo);
                    int numero = int.Parse(Resta.Days.ToString());
                }
                @if (User.IsInRole("Facilitador"))
                {
                    @if (numero >= 0 && numero >=1)
                    {
                        <a asp-action="CalificarEstudiantes" asp-route-IniciarCursoId="@i.IniciarCursoId" asp-controller="Calificar" class="btn btn-success ">Calificar</a>
                    }
                    else
                    {
                        <button class="btn btn-outline-secondary" disabled>Calificar</button>
                    }
                    <a asp-action="CalificarEstudiantes" asp-route-IniciarCursoId="@i.IniciarCursoId" asp-controller="Calificar" class="btn btn-success ">Calificar</a>
                }
               

                
              
           </td>
        </tr>

    }
</table>